"use strict";(self.webpackChunkrascal_website=self.webpackChunkrascal_website||[]).push([[70794],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},87298:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={title:"Abstract"},o=void 0,s={unversionedId:"Recipes/Languages/Pico/Abstract/index",id:"Recipes/Languages/Pico/Abstract/index",title:"Abstract",description:"Synopsis",source:"@site/docs/Recipes/Languages/Pico/Abstract/index.md",sourceDirName:"Recipes/Languages/Pico/Abstract",slug:"/Recipes/Languages/Pico/Abstract/",permalink:"/docs/Recipes/Languages/Pico/Abstract/",draft:!1,editUrl:"https://github.com/usethesource/rascal/tree/main/src/org/rascalmpl/courses/docs/Recipes/Languages/Pico/Abstract/index.md",tags:[],version:"current",frontMatter:{title:"Abstract"},sidebar:"tutorialSidebar",previous:{title:"Pico",permalink:"/docs/Recipes/Languages/Pico/"},next:{title:"Assembly",permalink:"/docs/Recipes/Languages/Pico/Assembly/"}},l={},c=[{value:"Synopsis",id:"synopsis",level:4},{value:"Examples",id:"examples",level:4}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h4",{id:"synopsis"},"Synopsis"),(0,r.kt)("p",null,"Abstract syntax for Pico."),(0,r.kt)("h4",{id:"examples"},"Examples"),(0,r.kt)("p",null,"Here is the complete abstract syntax for Pico:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rascal"},"module demo::lang::Pico::Abstract\n\n// highlight-next-line\n\n\ndata TYPE(loc src=|unknown:///|) \n    = natural() \n    | string()\n    ; \n      \n// highlight-next-line\nalias PicoId = str; \n      \ndata PROGRAM(loc src=|unknown:///|)\n// highlight-next-line\n    = program(list[DECL] decls, list[STATEMENT] stats);\n\ndata DECL(loc src=|unknown:///|) \n    = decl(PicoId name, TYPE tp);\n\ndata EXP(loc src=|unknown:///|) \n    = id(PicoId name)\n    | natCon(int iVal)\n    | strCon(str sVal)\n    | add(EXP left, EXP right)\n    | sub(EXP left, EXP right)\n    | conc(EXP left, EXP right)\n    ;\n    \ndata STATEMENT(loc src=|unknown:///|)\n    = asgStat(PicoId name, EXP exp)\n    | ifElseStat(EXP exp, list[STATEMENT] thenpart, list[STATEMENT] elsepart)\n    | whileStat(EXP exp, list[STATEMENT] body)\n    ;\n\n// highlight-next-line\nalias Occurrence = tuple[loc src, PicoId name, STATEMENT stat]; \n\n")),(0,r.kt)("p",null,"An abstract syntax specification is not necessary for implementing a programming language\nin Rascal. However, sometimes it comes in handy and for this reason we demonstrate an\nAST for Pico here. One reason could be that you are using an external parser for a language,\nanother is that your DSL is only an intermediate format in a longer pipeline."),(0,r.kt)("p",null,"Notes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The types that may occur in a Pico program are either ",(0,r.kt)("inlineCode",{parentName:"li"},"natural")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"string"),"."),(0,r.kt)("li",{parentName:"ul"},"Introduce ",(0,r.kt)("inlineCode",{parentName:"li"},"PicoId")," as an alias for Rascal's ",(0,r.kt)("inlineCode",{parentName:"li"},"str")," datatype."),(0,r.kt)("li",{parentName:"ul"},"Define the various data types that constitute an AST for Pico. Observe that the constructor names match the names used in the concrete syntax, e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},"strCon"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"add"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"ifElseStat"),"."),(0,r.kt)("li",{parentName:"ul"},"Define an annotation with name ",(0,r.kt)("inlineCode",{parentName:"li"},"location")," and of type ",(0,r.kt)("inlineCode",{parentName:"li"},"loc")," (source code location) for all AST types. This will be used when transforming a parse tree into an abstract syntax tree ",(0,r.kt)("a",{parentName:"li",href:"/docs/Library/ParseTree#ParseTree-implode"},"implode"),"."),(0,r.kt)("li",{parentName:"ul"},"Introduce ",(0,r.kt)("inlineCode",{parentName:"li"},"Occurrence")," as a generic way of describing the location of various items in the AST.")))}u.isMDXComponent=!0}}]);