"use strict";(self.webpackChunkrascal_website=self.webpackChunkrascal_website||[]).push([[29459],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>d});var n=t(67294);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=n.createContext({}),c=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},u=function(e){var a=c(e.components);return n.createElement(o.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=c(t),d=l,b=m["".concat(o,".").concat(d)]||m[d]||p[d]||r;return t?n.createElement(b,s(s({ref:a},u),{},{components:t})):n.createElement(b,s({ref:a},u))}));function d(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,s=new Array(r);s[0]=m;var i={};for(var o in a)hasOwnProperty.call(a,o)&&(i[o]=a[o]);i.originalType=e,i.mdxType="string"==typeof e?e:l,s[1]=i;for(var c=2;c<r;c++)s[c]=t[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},1629:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var n=t(83117),l=(t(67294),t(3905));const r={title:"Immutable Values"},s=void 0,i={unversionedId:"RascalConcepts/ImmutableValues/index",id:"RascalConcepts/ImmutableValues/index",title:"Immutable Values",description:"Synopsis",source:"@site/docs/RascalConcepts/ImmutableValues/index.md",sourceDirName:"RascalConcepts/ImmutableValues",slug:"/RascalConcepts/ImmutableValues/",permalink:"/docs/RascalConcepts/ImmutableValues/",draft:!1,editUrl:"https://github.com/usethesource/rascal-website/tree/website-v2/docs/docs/RascalConcepts/ImmutableValues/index.md",tags:[],version:"current",frontMatter:{title:"Immutable Values"},sidebar:"tutorialSidebar",previous:{title:"IDE Construction",permalink:"/docs/RascalConcepts/IDEConstruction/"},next:{title:"Pattern Matching",permalink:"/docs/RascalConcepts/PatternMatching/"}},o={},c=[{value:"Synopsis",id:"synopsis",level:4},{value:"Syntax",id:"syntax",level:4},{value:"Types",id:"types",level:4},{value:"Function",id:"function",level:4},{value:"Description",id:"description",level:4},{value:"Examples",id:"examples",level:4},{value:"Benefits",id:"benefits",level:4},{value:"Pitfalls",id:"pitfalls",level:4}],u={toc:c};function p(e){let{components:a,...t}=e;return(0,l.kt)("wrapper",(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h4",{id:"synopsis"},"Synopsis"),(0,l.kt)("p",null,"Immutable values."),(0,l.kt)("h4",{id:"syntax"},"Syntax"),(0,l.kt)("h4",{id:"types"},"Types"),(0,l.kt)("h4",{id:"function"},"Function"),(0,l.kt)("h4",{id:"description"},"Description"),(0,l.kt)("p",null,"Values are the basic building blocks of a language and the type of values determines how they may be used."),(0,l.kt)("p",null,"Rascal is a ",(0,l.kt)("em",{parentName:"p"},"value-oriented language"),". This means that values are immutable and are always freshly constructed from existing parts.\nFor instance, replacing an element in a list does not modify the original list but produces a new list that only differs\nfrom the original one in the modified position."),(0,l.kt)("p",null,"The language also provides variables. A value can be associated with a variable as the result of an explicit assignment statement: during the lifetime of a variable different (immutable) values may be assignment to it. Other ways to associate a value with a variable is by way of function calls (binding of formal parameters to actual values) and as the result of a successful pattern match."),(0,l.kt)("p",null,"The approach that values are immutable and that variables can be associated with different immutable values during their lifetime avoids\nsharing and aliasing problems that exist in many languages. "),(0,l.kt)("h4",{id:"examples"},"Examples"),(0,l.kt)("p",null,"First we, create a list value and assign it to two variables ",(0,l.kt)("inlineCode",{parentName:"p"},"L")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"M"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},"rascal>L = [1, 2, 3];\nlist[int]: [1,2,3]\nrascal>M = L;\nlist[int]: [1,2,3]\n")),(0,l.kt)("p",null,"Next we assign a new value to the first element of the list. The effect is that a new list value ",(0,l.kt)("inlineCode",{parentName:"p"},"[10, 2, 3]")," is constructed."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},"rascal>L[0] = 10;\nlist[int]: [10,2,3]\n")),(0,l.kt)("p",null,"L is now associated with this new value:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},"rascal>L;\nlist[int]: [10,2,3]\n")),(0,l.kt)("p",null,"But ",(0,l.kt)("inlineCode",{parentName:"p"},"M")," is still associated with the original, unmodified, value."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},"rascal>M;\nlist[int]: [1,2,3]\n")),(0,l.kt)("p",null,"In pointer-based languages and in object-oriented languages the change to the original value of ",(0,l.kt)("inlineCode",{parentName:"p"},"L")," would also be visible\nvia ",(0,l.kt)("inlineCode",{parentName:"p"},"M"),"."),(0,l.kt)("p",null,"String values are, like all other values, also immutable. Let's experiment with the ",(0,l.kt)("a",{parentName:"p",href:"/docs/Library/String#String-replaceAll"},"replaceAll")," function:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},'rascal>import String;\nok\nrascal>replaceAll("abracadabra", "a", "A");\nstr: "AbrAcAdAbrA"\n')),(0,l.kt)("p",null,"Now assign to variables ",(0,l.kt)("inlineCode",{parentName:"p"},"S")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"T")," the string ",(0,l.kt)("inlineCode",{parentName:"p"},'"abracadabra"')," and let's see what happens:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-rascal-shell"},'rascal>S = "abracadabra";\nstr: "abracadabra"\nrascal>T = S;\nstr: "abracadabra"\nrascal>S = replaceAll("abracadabra", "a", "A");\nstr: "AbrAcAdAbrA"\nrascal>S;\nstr: "AbrAcAdAbrA"\nrascal>T;\nstr: "abracadabra"\n')),(0,l.kt)("p",null,"To summarize: all values are immutable and variables can during their lifetime be associated with different immutable values."),(0,l.kt)("h4",{id:"benefits"},"Benefits"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Immutable values contribute to referential transparence.")),(0,l.kt)("h4",{id:"pitfalls"},"Pitfalls"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Immutable values maybe less efficient than mutable ones.")))}p.isMDXComponent=!0}}]);