<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Library/ParseTree">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">module ParseTree | The Rascal Meta Programming Language</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rascal-mpl.org/docs/Library/ParseTree"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="module ParseTree | The Rascal Meta Programming Language"><meta data-rh="true" name="description" content="Usage"><meta data-rh="true" property="og:description" content="Usage"><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://rascal-mpl.org/docs/Library/ParseTree"><link data-rh="true" rel="alternate" href="https://rascal-mpl.org/docs/Library/ParseTree" hreflang="en"><link data-rh="true" rel="alternate" href="https://rascal-mpl.org/docs/Library/ParseTree" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKSZQR9CR0-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Rascal Meta Programming Language RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Rascal Meta Programming Language Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="The Rascal Meta Programming Language" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/release-notes/rss.xml" title="The Rascal Meta Programming Language RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/release-notes/atom.xml" title="The Rascal Meta Programming Language Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ae1cabe7.css">
<link rel="preload" href="/assets/js/runtime~main.5fd111af.js" as="script">
<link rel="preload" href="/assets/js/main.193f1db3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/rascal_large_no_text.png" alt="Rascal logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/images/rascal_large_no_text.png" alt="Rascal logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">The Rascal Meta Programming Language</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/WhyRascal/">Docs</a><a class="navbar__item navbar__link" href="/stories">Stories</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/release-notes">Release notes</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/projects">Projects</a><a class="navbar__item navbar__link" href="/team">Team</a><a href="https://github.com/usethesource" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/CompileTimeErrors/">Compile Time Errors</a><button aria-label="Toggle the collapsible sidebar category &#x27;Compile Time Errors&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Developers/">Developers manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developers manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/GettingHelp/">Getting Help</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Help&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/GettingStarted/">Getting Started with Rascal</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started with Rascal&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/Library/">Rascal Standard Library</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rascal Standard Library&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Boolean">module Boolean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Content">module Content</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/DateTime">module DateTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Exception">module Exception</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Grammar">module Grammar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/IO">module IO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/List">module List</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/ListRelation">module ListRelation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Location">module Location</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Map">module Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Message">module Message</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Node">module Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Library/ParseTree">module ParseTree</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Prelude">module Prelude</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Relation">module Relation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Set">module Set</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/String">module String</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Traversal">module Traversal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/Type">module Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Library/ValueIO">module ValueIO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Library/analysis/">analysis</a><button aria-label="Toggle the collapsible sidebar category &#x27;analysis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Library/demo/">demo</a><button aria-label="Toggle the collapsible sidebar category &#x27;demo&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Library/lang/">lang</a><button aria-label="Toggle the collapsible sidebar category &#x27;lang&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Library/resource/">resource</a><button aria-label="Toggle the collapsible sidebar category &#x27;resource&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Library/util/">util</a><button aria-label="Toggle the collapsible sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Rascal/">Rascal Language Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rascal Language Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/RascalConcepts/">Rascal Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rascal Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/RascalShell/">Rascal Shell</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rascal Shell&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/RascalTests/">RascalTests</a><button aria-label="Toggle the collapsible sidebar category &#x27;RascalTests&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Rascalopedia/">Rascalopedia</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rascalopedia&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Recipes/">Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/RunTimeErrors/">Runtime Errors</a><button aria-label="Toggle the collapsible sidebar category &#x27;Runtime Errors&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Tutor/">Tutor</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutor&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/WhyRascal/">Why Rascal</a><button aria-label="Toggle the collapsible sidebar category &#x27;Why Rascal&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Library/"><span itemprop="name">Rascal Standard Library</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">module ParseTree</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>module ParseTree</h1></header><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a class="hash-link" href="#usage" title="Direct link to heading">​</a></h4><p><code>import ParseTree;</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis">Synopsis<a class="hash-link" href="#synopsis" title="Direct link to heading">​</a></h4><p>Library functions for parse trees.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a class="hash-link" href="#description" title="Direct link to heading">​</a></h4><p>A <em>concrete syntax tree</em> or <a href="http://en.wikipedia.org/wiki/Parse_tree%5Bparse" target="_blank" rel="noopener noreferrer">http://en.wikipedia.org/wiki/Parse_tree[parse</a> tree] is an ordered, rooted tree that
represents the syntactic structure of a string according to some formal grammar. </p><p>Most Rascal users will encounter parse trees in the form of concrete values.
Expert users may find the detailed description here useful when writing generic functions on parse trees. </p><p>In Rascal parse trees, the interior nodes are labeled by rules of the grammar,
while the leaf nodes are labeled by terminals (characters) of the grammar. </p><p><code>Tree</code> is the universal parse tree data type in Rascal and can be used to represent parse trees for any language.</p><ul><li><code>Tree</code> is a subtype of the type <a href="/docs/Rascal/Expressions/Values/Node">node</a>.</li><li>All types (non-terminals) declared in <a href="/docs/Rascal/Declarations/SyntaxDefinition">syntax definitions</a> are sub-types of <code>Tree</code>.</li><li>All <a href="/docs/Rascal/Expressions/ConcreteSyntax">concrete syntax expressions</a> produce parse trees with a type corresponding to a non-terminals.</li><li>Trees can be annotated in various ways, see features for <a href="/docs/RascalConcepts/IDEConstruction">IDE construction</a>.
Most importantly the <code>\loc</code> annotation always points to the source location of any (sub) parse tree.</li></ul><p>Parse trees are usually analyzed and constructed using
<a href="/docs/Rascal/Expressions/ConcreteSyntax">concrete syntax expressions</a>
and <a href="/docs/Rascal/Patterns/Concrete">concrete syntax patterns</a>.</p><p><em>Advanced users</em> may want to create tools that analyze any parse tree, regardless of the
<a href="/docs/Rascal/Declarations/SyntaxDefinition">syntax definition</a> that generated it, you can manipulate them on the abstract level.</p><p>A parse tree is of type <a href="/docs/Library/ParseTree#ParseTree-Tree">Tree</a> using the auxiliary types
<a href="/docs/Library/ParseTree#ParseTree-Production">Production</a>, <a href="/docs/Library/ParseTree#ParseTree-Symbol">Symbol</a>, <a href="/docs/Library/ParseTree#ParseTree-Condition">Condition</a>,
<a href="/docs/Library/ParseTree#ParseTree-Attr">Attr</a>, <a href="/docs/Library/ParseTree#ParseTree-Associativity">Associativity</a>, <a href="/docs/Library/ParseTree#ParseTree-CharRange">CharRange</a>.
Effectively, a parse tree is a nested tree structure of type <code>Tree</code>. </p><ul><li><p>Most internal nodes are applications (<code>appl</code>) of a <code>Production</code> to a list of children <code>Tree</code> nodes.
<code>Production</code> is the abstract representation of a rule in a
<a href="/docs/Rascal/Declarations/SyntaxDefinition">syntax definition</a>,
which consists of a definition of an alternative for a <code>Symbol</code> by a list of <code>Symbols</code>.</p></li><li><p>The leaves of a parse tree are always
characters (<code>char</code>), which have an integer index in the UTF8 table. </p></li><li><p>Some internal nodes encode ambiguity (<code>amb</code>) by pointing to a set of
alternative <code>Tree</code> nodes.</p></li></ul><p>The <code>Production</code> and <code>Symbol</code> types are an abstract notation for rules in
<a href="/docs/Rascal/Declarations/SyntaxDefinition">syntax definitions</a>,
while the <code>Tree</code> type is the actual notation for parse trees. </p><p>Parse trees are called parse forests when they contain <code>amb</code> nodes.</p><p>You can analyze and manipulate parse trees in three ways:</p><ul><li>Directly on the <code>Tree</code> level, just like any other <a href="/docs/Rascal/Declarations/AlgebraicDataType">algebraic data type</a>.</li><li>Using <a href="/docs/Rascal/Expressions/ConcreteSyntax">concrete syntax expressions</a>
and <a href="/docs/Rascal/Patterns/Concrete">concrete syntax patterns</a>.</li><li>Using <a href="/docs/Rascal/Declarations/SyntaxDefinition/Action">actions</a>.</li></ul><p>The type of a parse tree is the symbol that it&#x27;s production produces, i.e. <code>appl(prod(sort(&quot;A&quot;),[],{}),[])</code> has type <code>A</code>. Ambiguity nodes
Each such a non-terminal type has <code>Tree</code> as its immediate super-type.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">​</a></h4><p>// the following definition</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import ParseTree;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;syntax A = &quot;a&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will make the following succeed:</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;parse(#A,&quot;a&quot;) == </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    sort(&quot;A&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    [lit(&quot;a&quot;)],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  [appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        lit(&quot;a&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        [\char-class([range(97,97)])],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      [char(97)])]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You see that the defined non-terminal A ends up as the production for the outermost node.
As the only child is the tree for recognizing the literal a, which is defined to be a single a from the character-class <code>[ a ]</code>.</p><p>When we use labels in the definitions, they also end up in the trees.
The following definition</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import ParseTree;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;lexical B= myB:&quot;b&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;lexical C = myC:&quot;c&quot; B bLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Will make the following succeed:</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;parse(#C,&quot;cb&quot;) == </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    label(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      &quot;myC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      lex(&quot;C&quot;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      lit(&quot;c&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      label(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        &quot;bLabel&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        lex(&quot;B&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;    {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  [appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        lit(&quot;c&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        [\char-class([range(99,99)])],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      [char(99)]),appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        label(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;          &quot;myB&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;          lex(&quot;B&quot;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        [lit(&quot;b&quot;)],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;        {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;      [appl(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;          prod(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;            lit(&quot;b&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;            [\char-class([range(98,98)])],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;            {}),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;          [char(98)])])]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here you see that the alternative name is a label around the first argument of <code>prod</code> while argument labels become
labels in the list of children of a <code>prod</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pitfalls">Pitfalls<a class="hash-link" href="#pitfalls" title="Direct link to heading">​</a></h4><p>For historical reasons the name of the annotation is &quot;loc&quot; and this interferes with the Rascal keyword <code>loc</code>
for the type of <a href="/docs/Rascal/Expressions/Values/Location">source locations</a>.
Therefore the annotation name has to be escaped as <code>\loc</code> when it is declared or used.</p><p>The following functions and data types are declared for ParseTrees:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Tree">data Tree<a class="hash-link" href="#ParseTree-Tree" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Tree  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = appl(Production prod, list[Tree] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | cycle(Symbol symbol, int cycleLength)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | amb(set[Tree] alternatives)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | char(int character)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-1">Synopsis<a class="hash-link" href="#synopsis-1" title="Direct link to heading">​</a></h4><p>The Tree data type as produced by the parser.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-1">Description<a class="hash-link" href="#description-1" title="Direct link to heading">​</a></h4><p>A <code>Tree</code> defines the trees normally found after parsing; additional constructors exist for execptional cases:</p><p>&lt;1&gt; Parse tree constructor when parse succeeded.
&lt;2&gt; Cyclic parsetree.
&lt;3&gt; Ambiguous subtree.
&lt;4&gt; A single character. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Production">data Production<a class="hash-link" href="#ParseTree-Production" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Production  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = prod(Symbol def, list[Symbol] symbols, set[Attr] attributes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | regular(Symbol def)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-2">Synopsis<a class="hash-link" href="#synopsis-2" title="Direct link to heading">​</a></h4><p>Production in ParseTrees </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-2">Description<a class="hash-link" href="#description-2" title="Direct link to heading">​</a></h4><p>The type <code>Production</code> is introduced in <a href="/docs/Library/Type">Type</a>, see <a href="/docs/Library/Type#Type-Production">Production</a>. Here we extend it with the symbols
that can occur in a ParseTree. We also extend productions with basic combinators allowing to
construct ordered and un-ordered compositions, and associativity groups.</p><p>&lt;1&gt; A <code>prod</code> is a rule of a grammar, with a defined non-terminal, a list
of terminal and/or non-terminal symbols and a possibly empty set of attributes.</p><p>&lt;2&gt; A <code>regular</code> is a regular expression, i.e. a repeated construct.</p><p>&lt;3&gt; <code>priority</code> means operator precedence, where the order of the list indicates the binding strength of each rule;
&lt;4&gt; <code>assoc</code>  means all alternatives are acceptable, but nested on the declared side;
&lt;5&gt; <code>reference</code> means a reference to another production rule which should be substituted there,
for extending priority chains and such.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Production">data Production<a class="hash-link" href="#ParseTree-Production" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Production  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \priority(Symbol def, list[Production] choices)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \associativity(Symbol def, Associativity \assoc, set[Production] alternatives)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \reference(Symbol def, str cons)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Attr">data Attr<a class="hash-link" href="#ParseTree-Attr" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Attr  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \bracket()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \assoc(Associativity \assoc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-3">Synopsis<a class="hash-link" href="#synopsis-3" title="Direct link to heading">​</a></h4><p>Attributes in productions.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-3">Description<a class="hash-link" href="#description-3" title="Direct link to heading">​</a></h4><p>An <code>Attr</code> (attribute) documents additional semantics of a production rule. Neither tags nor
brackets are processed by the parser generator. Rather downstream processors are
activated by these. Associativity is a parser generator feature though. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Associativity">data Associativity<a class="hash-link" href="#ParseTree-Associativity" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Associativity  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \left()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \right()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \assoc()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \non-assoc()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-4">Synopsis<a class="hash-link" href="#synopsis-4" title="Direct link to heading">​</a></h4><p>Associativity attribute. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-4">Description<a class="hash-link" href="#description-4" title="Direct link to heading">​</a></h4><p>Associativity defines the various kinds of associativity of a specific production.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-CharRange">data CharRange<a class="hash-link" href="#ParseTree-CharRange" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data CharRange  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = range(int begin, int end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-5">Synopsis<a class="hash-link" href="#synopsis-5" title="Direct link to heading">​</a></h4><p>Character ranges and character class</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-5">Description<a class="hash-link" href="#description-5" title="Direct link to heading">​</a></h4><ul><li><code>CharRange</code> defines a range of characters.</li><li>A <code>CharClass</code> consists of a list of characters ranges.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-CharClass">alias CharClass<a class="hash-link" href="#ParseTree-CharClass" title="Direct link to heading">​</a></h2><ul><li><code>list[CharRange]</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Symbol">data Symbol<a class="hash-link" href="#ParseTree-Symbol" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Symbol  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \start(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-6">Synopsis<a class="hash-link" href="#synopsis-6" title="Direct link to heading">​</a></h4><p>Symbols that can occur in a ParseTree</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-6">Description<a class="hash-link" href="#description-6" title="Direct link to heading">​</a></h4><p>The type <code>Symbol</code> is introduced in <a href="/docs/Library/Type">Type</a>, see <a href="/docs/Library/Type#Type-Symbol">Symbol</a>, to represent the basic Rascal types,
e.g., <code>int</code>, <code>list</code>, and <code>rel</code>. Here we extend it with the symbols that may occur in a ParseTree.</p><p>&lt;1&gt;  The <code>start</code> symbol wraps any symbol to indicate that it is a start symbol of the grammar and
may occur at the root of a parse tree.
&lt;2&gt;  Context-free non-terminal
&lt;3&gt;  Lexical non-terminal
&lt;4&gt;  Layout symbols
&lt;5&gt;  Terminal symbols that are keywords
&lt;6&gt;  Parameterized context-free non-terminal
&lt;7&gt; Parameterized lexical non-terminal
&lt;8&gt;  Terminal.
&lt;9&gt;  Case-insensitive terminal.
&lt;10&gt; Character class
&lt;11&gt; Empty symbol
&lt;12&gt; Optional symbol
&lt;13&gt; List of one or more symbols without separators
&lt;14&gt; List of zero or more symbols without separators
&lt;15&gt; List of one or more symbols with separators
&lt;16&gt; List of zero or more symbols with separators
&lt;17&gt; Alternative of symbols
&lt;18&gt; Sequence of symbols
&lt;19&gt; Conditional occurrence of a symbol.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Symbol">data Symbol<a class="hash-link" href="#ParseTree-Symbol" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Symbol  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \sort(str name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \lex(str name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \layouts(str name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \keywords(str name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \parameterized-sort(str name, list[Symbol] parameters)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \parameterized-lex(str name, list[Symbol] parameters)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Symbol">data Symbol<a class="hash-link" href="#ParseTree-Symbol" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Symbol  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \lit(str string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \cilit(str string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \char-class(list[CharRange] ranges)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Symbol">data Symbol<a class="hash-link" href="#ParseTree-Symbol" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Symbol  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \empty()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \opt(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \iter(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \iter-star(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \iter-seps(Symbol symbol, list[Symbol] separators)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \iter-star-seps(Symbol symbol, list[Symbol] separators)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \alt(set[Symbol] alternatives)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \seq(list[Symbol] symbols)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Symbol">data Symbol<a class="hash-link" href="#ParseTree-Symbol" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Symbol  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \conditional(Symbol symbol, set[Condition] conditions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-subtype">function subtype<a class="hash-link" href="#ParseTree-subtype" title="Direct link to heading">​</a></h2><ul><li><code>bool subtype(Symbol::\sort(_), Symbol::\adt(&quot;Tree&quot;, _))</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-Condition">data Condition<a class="hash-link" href="#ParseTree-Condition" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Condition  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = \follow(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \not-follow(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \precede(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \not-precede(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \delete(Symbol symbol)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \at-column(int column)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \begin-of-line()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \end-of-line()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | \except(str label)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-7">Synopsis<a class="hash-link" href="#synopsis-7" title="Direct link to heading">​</a></h4><p>Datatype for declaring preconditions and postconditions on symbols</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-7">Description<a class="hash-link" href="#description-7" title="Direct link to heading">​</a></h4><p>A <code>Condition</code> can be attached to a symbol; it restricts the applicability
of that symbol while parsing input text. For instance, <code>follow</code> requires that it
is followed by another symbol and <code>at-column</code> requires that it occurs
at a certain position in the current line of the input text.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-priority">function priority<a class="hash-link" href="#ParseTree-priority" title="Direct link to heading">​</a></h2><ul><li><code>Production priority(Symbol s, [*Production a, priority(Symbol _, list[Production] b), *Production c])</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-8">Synopsis<a class="hash-link" href="#synopsis-8" title="Direct link to heading">​</a></h4><p>Nested priority is flattened.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-associativity">function associativity<a class="hash-link" href="#ParseTree-associativity" title="Direct link to heading">​</a></h2><ul><li><code>Production associativity(Symbol s, Associativity as, {*Production a, choice(Symbol t, set[Production] b)})</code></li><li><code>Production associativity(Symbol rhs, Associativity a, {associativity(rhs, Associativity b, set[Production] alts), *Production rest})</code></li><li><code>Production associativity(Symbol s, Associativity as, {*Production a, priority(Symbol t, list[Production] b)})</code></li><li><code>Production associativity(Symbol rhs, Associativity a, set[Production] rest)</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-9">Synopsis<a class="hash-link" href="#synopsis-9" title="Direct link to heading">​</a></h4><p>Normalization of associativity.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-8">Description<a class="hash-link" href="#description-8" title="Direct link to heading">​</a></h4><ul><li>The <a href="/docs/Library/Type#Type-choice">choice</a> constructor under associativity is flattened.</li><li>Nested (equal) associativity is flattened.</li><li><a href="/docs/Library/ParseTree#ParseTree-priority">priority</a> under an associativity group defaults to choice.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-parse">function parse<a class="hash-link" href="#ParseTree-parse" title="Direct link to heading">​</a></h2><ul><li><code>&amp;T&lt;:Tree parse(type[&amp;T&lt;:Tree] begin, str input, bool allowAmbiguity=false, bool hasSideEffects=false, set[Tree(Tree)] filters={})</code></li><li><code>&amp;T&lt;:Tree parse(type[&amp;T&lt;:Tree] begin, str input, loc origin, bool allowAmbiguity=false, bool hasSideEffects=false, set[Tree(Tree)] filters={})</code></li><li><code>&amp;T&lt;:Tree parse(type[&amp;T&lt;:Tree] begin, loc input, bool allowAmbiguity=false, bool hasSideEffects=false, set[Tree(Tree)] filters={})</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-10">Synopsis<a class="hash-link" href="#synopsis-10" title="Direct link to heading">​</a></h4><p>Parse input text (from a string or a location) and return a parse tree.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-9">Description<a class="hash-link" href="#description-9" title="Direct link to heading">​</a></h4><ul><li>Parse a string and return a parse tree.</li><li>Parse a string and return a parse tree, <code>origin</code> defines the original location of the input.</li><li>Parse the contents of resource input and return a parse tree.</li></ul><p>The parse either throws ParseError exceptions or returns parse trees of type <code>Tree</code>. See [<!-- -->[ParseTree]<!-- -->].</p><p>The <code>allowAmbiguity</code> flag dictates the behavior of the parser in the case of ambiguity. When <code>allowAmbiguity=true</code>
the parser will construct ambiguity clusters (local sets of parse trees where the input string is ambiguous). If it is <code>false</code>
the parser will throw an <code>Ambiguous</code> exception instead. An <code>Ambiguous</code> exception is comparable to a ParseError exception then.
The latter option terminates much faster, i.e. always in cubic time, and always linear in the size of the intermediate parse graph,
while constructing ambiguous parse forests may grow to O(n^p+1), where p is the length of the longest production rule and n
is the length of the input.</p><p>The <code>filters</code> set contains functions which may be called optionally after the parse algorithm has finished and just before
the Tree representation is built. The set of functions contain alternative functions, only on of them is successfully applied
to each node in a tree. If such a function fails to apply, the other ones are tried. There is no fixed-point computation, so
composed filters must be added to the set of filters programmatically. Post-parse filtering is best done at this stage and
not later on the Tree representation for efficiency reasons. Namely, the size of the parse graph before Tree construction
is still cubic due to &quot;binarized&quot; sharing of intermediate nodes, while after Tree construction the forest may obtain
a size in O(n^p+1) where n is the length of the input and p is the length of the longest syntax rule. Filtering using
the <code>filters</code> parameter, on the other hand, may very well cut the forest quickly down to even a linear size and result in
an efficient overall parsing algorithm.</p><p>The <code>hasSideEffects</code> flag is normally set to false. When the <code>filters</code> functions have side-effects to
remove ambiguity, this option must be set to <code>true</code> to ensure correct behavior. A side-effect of filter functions is
typically the construction of a symbol table and the removal (see [<!-- -->[Statements/Filter]<!-- -->]) of syntax trees which refer to
undefined symbols. In such a case <code>hasSideEffects</code> must be set to <code>true</code> for correctness&#x27; sake. If its set to <code>false</code>
then the algorithm assumes tree construction is context-free and it can memoize the results of shared intermediate graph nodes.
The tree construction algorithm is effectively always worst case
polynomial in O(n^p+1) --p being the length of the longest syntax rule-- when <code>hasSideEffects</code> is true, but may be linear when set
to false. So this is quite an important flag to consider. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">​</a></h4><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import demo::lang::Exp::Concrete::NoLayout::Syntax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import ParseTree;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Seeing that <code>parse</code> returns a parse tree:</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;parse(#Exp, &quot;2+3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exp: (Exp) `2+3`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Catching a parse error:</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import IO;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  Exp e = parse(#Exp, &quot;2@3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;catch ParseError(loc l): {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;  println(&quot;I found a parse error at line &lt;l.begin.line&gt;, column &lt;l.begin.column&gt;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt;&gt;&gt;&gt;&gt;&gt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I found a parse error at line 1, column 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-parser">function parser<a class="hash-link" href="#ParseTree-parser" title="Direct link to heading">​</a></h2><ul><li><code>&amp;T (value input, loc origin) parser(type[&amp;T] grammar, bool allowAmbiguity=false, bool hasSideEffects=false, bool firstAmbiguity=false, set[Tree(Tree)] filters={})</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-11">Synopsis<a class="hash-link" href="#synopsis-11" title="Direct link to heading">​</a></h4><p>Generates a parser from an input grammar.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-10">Description<a class="hash-link" href="#description-10" title="Direct link to heading">​</a></h4><p>This builtin function wraps the Rascal parser generator by transforming a grammar into a parsing function.</p><p>The resulting parsing function has the following overloaded signature:</p><ul><li>Tree parse(str input, loc origin);</li><li>Tree parse(loc input, loc origin);</li></ul><p>So the parse function reads either directly from a str or via the contents of a loc. It also takes a <code>origin</code> parameter
which leads to the prefix of the <code>src</code> fields of the resulting tree.</p><p>The parse function behaves differently depending of the given keyword parameters:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> *  `allowAmbiguity`: if true then no exception is thrown in case of ambiguity and a parse forest is returned. if false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *                    the parser throws an exception during tree building and produces only the first ambiguous subtree in its message.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *                    if set to `false`, the parse constructs trees in linear time. if set to `true` the parser constructs trees in polynomial time.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *  `hasSideEffects`: if false then the parser is a lot faster when constructing trees, since it does not execute the parse _actions_ in an</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *                    interpreted environment to make side effects (like a symbol table) and it can share more intermediate results as a result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *  `firstAmbiguity`: if true, then the parser returns the subforest for the first (left-most innermost) ambiguity instead of a parse tree for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *                    the entire input string. This is for grammar debugging purposes a much faster solution then waiting for an entire </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *                    parse forest to be constructed in polynomial time.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-parsers">function parsers<a class="hash-link" href="#ParseTree-parsers" title="Direct link to heading">​</a></h2><ul><li><code>&amp;U (type[&amp;U] nonterminal, value input, loc origin) parsers(type[&amp;T] grammar, bool allowAmbiguity=false, bool hasSideEffects=false, bool firstAmbiguity=false,  set[Tree(Tree)] filters={})</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-12">Synopsis<a class="hash-link" href="#synopsis-12" title="Direct link to heading">​</a></h4><p>Generates parsers from a grammar (reified type), where all non-terminals in the grammar can be used as start-symbol.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-11">Description<a class="hash-link" href="#description-11" title="Direct link to heading">​</a></h4><p>This parser generator behaves the same as the <code>parser</code> function, but it produces parser functions which have an additional
nonterminal parameter. This can be used to select a specific non-terminal from the grammar to use as start-symbol for parsing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-firstAmbiguity">function firstAmbiguity<a class="hash-link" href="#ParseTree-firstAmbiguity" title="Direct link to heading">​</a></h2><ul><li><code>Tree firstAmbiguity(type[&amp;T&lt;:Tree] begin, str input)</code></li><li><code>Tree firstAmbiguity(type[&amp;T&lt;:Tree] begin, loc input)</code></li></ul><p>.Synopsis parse the input but instead of returning the entire tree, return the trees for the first ambiguous substring.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-12">Description<a class="hash-link" href="#description-12" title="Direct link to heading">​</a></h4><p>This function is similar to the [<!-- -->[parse]<!-- -->] function in its functionality. However, in case of serious ambiguity parse
could be very slow. This function is much faster, because it does not try to construct an entire forest and thus avoids
the cost of constructing nested ambiguity clusters. </p><p>If the input sentence is not ambiguous after all, simply the entire tree is returned.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-unparse">function unparse<a class="hash-link" href="#ParseTree-unparse" title="Direct link to heading">​</a></h2><ul><li><code>str unparse(Tree tree)</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-13">Synopsis<a class="hash-link" href="#synopsis-13" title="Direct link to heading">​</a></h4><p>Yield the string of characters that form the leafs of the given parse tree.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-13">Description<a class="hash-link" href="#description-13" title="Direct link to heading">​</a></h4><p><code>unparse</code> is the inverse function of <a href="/docs/Library/ParseTree#ParseTree-parse">parse</a>, i.e., for every syntactically correct string <em>TXT</em> of
type <code>S</code>, the following holds:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unparse(parse(#S, _TXT_)) == _TXT_</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples-2">Examples<a class="hash-link" href="#examples-2" title="Direct link to heading">​</a></h4><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import demo::lang::Exp::Concrete::NoLayout::Syntax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;import ParseTree;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>First parse an expression, this results in a parse tree. Then unparse this parse tree:</p><div class="language-rascal-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rascal&gt;unparse(parse(#Exp, &quot;2+3&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">str: &quot;2+3&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-printSymbol">function printSymbol<a class="hash-link" href="#ParseTree-printSymbol" title="Direct link to heading">​</a></h2><ul><li><code>str printSymbol(Symbol sym, bool withLayout)</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-implode">function implode<a class="hash-link" href="#ParseTree-implode" title="Direct link to heading">​</a></h2><ul><li><code>&amp;T&lt;:value implode(type[&amp;T&lt;:value] t, Tree tree)</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-14">Synopsis<a class="hash-link" href="#synopsis-14" title="Direct link to heading">​</a></h4><p>Implode a parse tree according to a given (ADT) type.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-14">Description<a class="hash-link" href="#description-14" title="Direct link to heading">​</a></h4><p>Given a grammar for a language, its sentences can be parsed and the result is a parse tree
(or more precisely a value of type <code>Tree</code>). For many applications this is sufficient
and the results are achieved by traversing and matching them using concrete patterns.</p><p>In other cases, the further processing of parse trees is better done in a more abstract form.
The <a href="http://en.wikipedia.org/wiki/Abstract_syntax%5Babstract" target="_blank" rel="noopener noreferrer">http://en.wikipedia.org/wiki/Abstract_syntax[abstract</a> syntax] for a language is a
data type that is used to represent programs in the language in an <em>abstract</em> form.
Abstract syntax has the following properties:</p><ul><li>It is &quot;abstract&quot; in the sense that it does not contain textual details such as parentheses,
layout, and the like.</li><li>While a language has one grammar (also known as, <em>concrete syntax</em>) it may have several abstract syntaxes
for different purposes: type analysis, code generation, etc.</li></ul><p>The function <code>implode</code> bridges the gap between parse tree and abstract syntax tree.
Given a parse tree and a Rascal type it traverses them simultaneously and constructs
an abstract syntax tree (a value of the given type) as follows:</p><ul><li><p>Literals, layout and empty (i.e. ()) nodes are skipped.</p></li><li><p>Regular */+ lists are imploded to <code>list</code>s or <code>set</code>s depending on what is
expected in the ADT.</p></li><li><p>Ambiguities are imploded to <code>set</code>s.</p></li><li><p>If the expected type is <code>str</code> the tree is unparsed into a string. This happens for both
lexical and context-free parse trees.</p></li><li><p>If a tree&#x27;s production has no label and a single AST (i.e. non-layout, non-literal) argument
(for instance, an injection), the tree node is skipped, and implosion continues
with the lone argument. The same applies to bracket productions, even if they
are labeled.</p></li><li><p>If a tree&#x27;s production has no label, but more than one argument, the tree is imploded
to a tuple (provided this conforms to the ADT).</p></li><li><p>Optionals are imploded to booleans if this is expected in the ADT.
This also works for optional literals, as shown in the example below.</p></li><li><p>An optional is imploded to a list with zero or one argument, iff a list
type is expected.</p></li><li><p>If the argument of an optional tree has a production with no label, containing
a single list, then this list is spliced into the optional list.</p></li><li><p>For trees with (cons-)labeled productions, the corresponding constructor
in the ADT corresponding to the non-terminal of the production is found in
order to make the AST.</p></li><li><p>If the provided type is <code>node</code>, (cons-)labeled trees will be imploded to untyped <code>node</code>s.
This means that any subtrees below it will be untyped nodes (if there is a label), tuples of
nodes (if a label is absent), and strings for lexicals. </p></li><li><p>Unlabeled lexicals are imploded to str, int, real, bool depending on the expected type in
the ADT. To implode lexical into types other than str, the PDB parse functions for
integers and doubles are used. Boolean lexicals should match &quot;true&quot; or &quot;false&quot;.
NB: lexicals are imploded this way, even if they are ambiguous.</p></li><li><p>If a lexical tree has a cons label, the tree imploded to a constructor with that name
and a single string-valued argument containing the tree&#x27;s yield.</p></li></ul><p>An <code>IllegalArgument</code> exception is thrown if during implosion a tree is encountered that cannot be
imploded to the expected type in the ADT. As explained above, this function assumes that the
ADT type names correspond to syntax non-terminal names, and constructor names correspond
to production labels. Labels of production arguments do not have to match with labels
in ADT constructors.</p><p>Finally, source location fields are propagated as keyword fields on constructor ASTs.
To access them, the user is required to explicitly declare a keyword field on all
ADTs used in implosion. In other words, for every ADT type <code>T</code>, add:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data T(loc location=|unknown);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples-3">Examples<a class="hash-link" href="#examples-3" title="Direct link to heading">​</a></h4><p>Here are some examples for the above rules.</p><p>.Example for rule 5</p><p>Given the grammar</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">syntax IDTYPE = Id &quot;:&quot; Type;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syntax Decls = decls: &quot;declare&quot; {IDTYPE &quot;,&quot;}* &quot;;&quot;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Decls</code> will be imploded as:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Decls = decls(list[tuple[str,Type]]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(assuming Id is a lexical non-terminal).   </p><p>.Example for rule 6</p><p>Given the grammar</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">syntax Formal = formal: &quot;VAR&quot;? {Id &quot;,&quot;}+ &quot;:&quot; Type;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The corresponding ADT could be:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Formal = formal(bool, list[str], Type);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>.Example for rule 8</p><p>Given the grammar</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">syntax Tag = &quot;[&quot; {Modifier &quot;,&quot;}* &quot;]&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syntax Decl = decl: Tag? Signature Body;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case, a <code>Decl</code> is imploded into the following ADT:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Decl = decl(list[Modifier], Signature, Body);  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>.Example for rule 9</p><p>Given the grammar</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">syntax Exp = left add: Exp &quot;+&quot; Exp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Can be imploded into:</p><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Exp = add(Exp, Exp);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-TreeSearchResult">data TreeSearchResult<a class="hash-link" href="#ParseTree-TreeSearchResult" title="Direct link to heading">​</a></h2><div class="language-rascal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rascal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data TreeSearchResult[&amp;T&lt;:Tree]  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = treeFound(&amp;T tree)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     | treeNotFound()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-15">Synopsis<a class="hash-link" href="#synopsis-15" title="Direct link to heading">​</a></h4><p>Tree search result type for <a href="/docs/Library/ParseTree#ParseTree-treeAt">tree at</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-treeAt">function treeAt<a class="hash-link" href="#ParseTree-treeAt" title="Direct link to heading">​</a></h2><ul><li><code>TreeSearchResult[&amp;T&lt;:Tree] treeAt(type[&amp;T&lt;:Tree] t, loc l, Tree a:appl(_, _))</code></li><li><code>default TreeSearchResult[&amp;T&lt;:Tree] treeAt(type[&amp;T&lt;:Tree] t, loc l, Tree root)</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-16">Synopsis<a class="hash-link" href="#synopsis-16" title="Direct link to heading">​</a></h4><p>Select the innermost Tree of a given type which is enclosed by a given location.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-15">Description<a class="hash-link" href="#description-15" title="Direct link to heading">​</a></h4><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-sameType">function sameType<a class="hash-link" href="#ParseTree-sameType" title="Direct link to heading">​</a></h2><ul><li><code>bool sameType(label(_,Symbol s),Symbol t)</code></li><li><code>bool sameType(Symbol s,label(_,Symbol t))</code></li><li><code>bool sameType(Symbol s,conditional(Symbol t,_))</code></li><li><code>bool sameType(conditional(Symbol s,_), Symbol t)</code></li><li><code>bool sameType(Symbol s, s)</code></li><li><code>default bool sameType(Symbol s, Symbol t)</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ParseTree-isNonTerminalType">function isNonTerminalType<a class="hash-link" href="#ParseTree-isNonTerminalType" title="Direct link to heading">​</a></h2><ul><li><code>bool isNonTerminalType(Symbol::\sort(str _))</code></li><li><code>bool isNonTerminalType(Symbol::\lex(str _))</code></li><li><code>bool isNonTerminalType(Symbol::\layouts(str _))</code></li><li><code>bool isNonTerminalType(Symbol::\keywords(str _))</code></li><li><code>bool isNonTerminalType(Symbol::\parameterized-sort(str _, list[Symbol] _))</code></li><li><code>bool isNonTerminalType(Symbol::\parameterized-lex(str _, list[Symbol] _))</code></li><li><code>bool isNonTerminalType(Symbol::\start(Symbol s))</code></li><li><code>default bool isNonTerminalType(Symbol s)</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synopsis-17">Synopsis<a class="hash-link" href="#synopsis-17" title="Direct link to heading">​</a></h4><p>Determine if the given type is a non-terminal type.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/usethesource/rascal/tree/main/src/org/rascalmpl/courses/docs/Library/ParseTree.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Library/Node"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">module Node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Library/Prelude"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">module Prelude</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ParseTree-Tree" class="table-of-contents__link toc-highlight">data Tree</a></li><li><a href="#ParseTree-Production" class="table-of-contents__link toc-highlight">data Production</a></li><li><a href="#ParseTree-Production" class="table-of-contents__link toc-highlight">data Production</a></li><li><a href="#ParseTree-Attr" class="table-of-contents__link toc-highlight">data Attr</a></li><li><a href="#ParseTree-Associativity" class="table-of-contents__link toc-highlight">data Associativity</a></li><li><a href="#ParseTree-CharRange" class="table-of-contents__link toc-highlight">data CharRange</a></li><li><a href="#ParseTree-CharClass" class="table-of-contents__link toc-highlight">alias CharClass</a></li><li><a href="#ParseTree-Symbol" class="table-of-contents__link toc-highlight">data Symbol</a></li><li><a href="#ParseTree-Symbol" class="table-of-contents__link toc-highlight">data Symbol</a></li><li><a href="#ParseTree-Symbol" class="table-of-contents__link toc-highlight">data Symbol</a></li><li><a href="#ParseTree-Symbol" class="table-of-contents__link toc-highlight">data Symbol</a></li><li><a href="#ParseTree-Symbol" class="table-of-contents__link toc-highlight">data Symbol</a></li><li><a href="#ParseTree-subtype" class="table-of-contents__link toc-highlight">function subtype</a></li><li><a href="#ParseTree-Condition" class="table-of-contents__link toc-highlight">data Condition</a></li><li><a href="#ParseTree-priority" class="table-of-contents__link toc-highlight">function priority</a></li><li><a href="#ParseTree-associativity" class="table-of-contents__link toc-highlight">function associativity</a></li><li><a href="#ParseTree-parse" class="table-of-contents__link toc-highlight">function parse</a></li><li><a href="#ParseTree-parser" class="table-of-contents__link toc-highlight">function parser</a></li><li><a href="#ParseTree-parsers" class="table-of-contents__link toc-highlight">function parsers</a></li><li><a href="#ParseTree-firstAmbiguity" class="table-of-contents__link toc-highlight">function firstAmbiguity</a></li><li><a href="#ParseTree-unparse" class="table-of-contents__link toc-highlight">function unparse</a></li><li><a href="#ParseTree-printSymbol" class="table-of-contents__link toc-highlight">function printSymbol</a></li><li><a href="#ParseTree-implode" class="table-of-contents__link toc-highlight">function implode</a></li><li><a href="#ParseTree-TreeSearchResult" class="table-of-contents__link toc-highlight">data TreeSearchResult</a></li><li><a href="#ParseTree-treeAt" class="table-of-contents__link toc-highlight">function treeAt</a></li><li><a href="#ParseTree-sameType" class="table-of-contents__link toc-highlight">function sameType</a></li><li><a href="#ParseTree-isNonTerminalType" class="table-of-contents__link toc-highlight">function isNonTerminalType</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/GettingStarted">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/rascal" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/usethesource" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 UseTheSource. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5fd111af.js"></script>
<script src="/assets/js/main.193f1db3.js"></script>
</body>
</html>